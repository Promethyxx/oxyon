# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
#
# When uploading crates to the registry Cargo will automatically
# "normalize" Cargo.toml files for maximal compatibility
# with all versions of Cargo and also rewrite `path` dependencies
# to registry (e.g., crates.io) dependencies.
#
# If you are reading this file be aware that the original Cargo.toml
# will likely look very different (and much more reasonable).
# See Cargo.toml.orig for the original contents.

[package]
edition = "2024"
rust-version = "1.85"
name = "sevenz-rust2"
version = "0.20.1"
build = false
autolib = false
autobins = false
autoexamples = false
autotests = false
autobenches = false
description = "A 7z decompressor/compressor written in pure Rust"
homepage = "https://github.com/hasenbanck/sevenz-rust2"
readme = "README.md"
keywords = [
    "7z",
    "7zip",
    "sevenz",
    "decompress",
]
license = "Apache-2.0"
repository = "https://github.com/hasenbanck/sevenz-rust"

[package.metadata.docs.rs]
all-features = true

[features]
aes256 = [
    "dep:aes",
    "dep:cbc",
    "dep:getrandom",
    "dep:sha2",
]
aes256_wasm = [
    "aes256",
    "getrandom/wasm_js",
]
brotli = ["dep:brotli"]
bzip2 = ["dep:bzip2"]
compress = ["lzma-rust2/encoder"]
default = [
    "aes256",
    "bzip2",
    "compress",
    "ppmd",
    "util",
]
default_wasm = [
    "aes256_wasm",
    "bzip2",
    "compress",
    "ppmd",
    "util",
]
deflate = ["dep:flate2"]
lz4 = ["dep:lz4_flex"]
nt-time = ["dep:nt-time"]
ppmd = ["dep:ppmd-rust"]
util = []
zstd = ["dep:zstd"]

[lib]
name = "sevenz_rust2"
crate-type = [
    "cdylib",
    "rlib",
]
path = "src/lib.rs"

[[example]]
name = "advance"
path = "examples/advance.rs"
required-features = ["default"]

[[example]]
name = "block_decompress"
path = "examples/block_decompress.rs"
required-features = ["default"]

[[example]]
name = "compress"
path = "examples/compress.rs"
required-features = ["default"]

[[example]]
name = "decompress"
path = "examples/decompress.rs"
required-features = ["default"]

[[example]]
name = "decompress_progress"
path = "examples/decompress_progress.rs"
required-features = ["default"]

[[example]]
name = "mt_decompress"
path = "examples/mt_decompress.rs"
required-features = ["default"]

[[test]]
name = "compress_tests"
path = "tests/compress_tests.rs"

[[test]]
name = "decompress_encrypted_tests"
path = "tests/decompress_encrypted_tests.rs"

[[test]]
name = "decompression_tests"
path = "tests/decompression_tests.rs"

[[test]]
name = "solid_compress_tests"
path = "tests/solid_compress_tests.rs"

[dependencies.aes]
version = "0.8"
optional = true

[dependencies.brotli]
version = ">= 7, < 9"
features = ["std"]
optional = true
default-features = false

[dependencies.bzip2]
version = "0.6"
optional = true

[dependencies.cbc]
version = "0.1"
optional = true

[dependencies.crc32fast]
version = "1"

[dependencies.flate2]
version = "1"
features = ["zlib-rs"]
optional = true

[dependencies.getrandom]
version = "0.3"
optional = true

[dependencies.lz4_flex]
version = "0.12"
optional = true

[dependencies.lzma-rust2]
version = "0.15"
features = [
    "std",
    "optimization",
]
default-features = false

[dependencies.nt-time]
version = "0.13"
optional = true

[dependencies.ppmd-rust]
version = "1"
optional = true

[dependencies.sha2]
version = "0.10"
optional = true

[dependencies.zstd]
version = "0.13"
optional = true

[dev-dependencies.rand]
version = "0.9"

[dev-dependencies.tempfile]
version = "3"

[target.'cfg(target_arch = "wasm32")'.dependencies.js-sys]
version = "0.3"

[target.'cfg(target_arch = "wasm32")'.dependencies.wasm-bindgen]
version = "0.2"
